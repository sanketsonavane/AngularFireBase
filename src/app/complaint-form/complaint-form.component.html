<app-header></app-header>
<div class="container">
    <form [formGroup]="this.complaintService.form" (ngSubmit)="onSubmit()">
        <input type="hidden" formControlName="$key">
        
        <div class="form-group">
            <label>Name :</label>
            <div class="row">
                <div class="col-sm-6">
                    <input formControlName="firstName" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.firstName.errors}">
                    <small>First Name</small>
                </div>
                <div class="col-sm-6">
                    <input formControlName="lastName" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.lastName.errors}">
                    <small>Last Name</small>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label>Email :</label>
            <input formControlName="email" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.email.errors}">
            <label *ngIf="submitted && formControls.email.error">Email Id is Compulsorry.</label>
            <label class="invalid-feedback" *ngIf="submitted && formControls.email.errors">Enter valid Email Id</label>
        </div>

        <div class="form-group">
            <label>Phone :</label>
            <input formControlName="mobile" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.mobile.errors}">
            <div class="invalid-feedback" *ngIf="submitted && formControls.mobile.errors">
                <label *ngIf="formControls.mobile.errors.required">Mobile number is Compulsorry for further communication.</label>
                <label *ngIf="formControls.mobile.errors.minlength">Invalid Mobile Number</label>
            </div>
        </div> 
        
        <div class="form-group">
            <label>Address :</label>
            <input formControlName="add" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.add.errors}"><br>
            <input formControlName="add1" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.add1.errors}"><br>
            <div class="row">
                <div class="col-sm-6">
                    <input formControlName="city" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.city.errors}">
                    <small> City</small>
                </div>
                <div class="col-sm-3">
                    <input formControlName="state" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.state.errors}">
                    <small> State</small>
                </div>
                <div class="col-sm-3">
                    <input formControlName="zip" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.zip.errors}">
                    <small> Zip Code</small>
                </div>
            </div>
        </div>
        
        <div class="form-group">
            <label>Please describe the incident you would like to report</label>
            <textarea rows="4" formControlName="report" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.report.errors}"></textarea>
        </div>

        <div class="form-group">
            <label>How would you like to see this incident resolved ?</label>
            <textarea rows="4" formControlName="solution" class="form-control" [ngClass]="{'is-invalid':submitted && formControls.solution.errors}"></textarea>
        </div>

        <div  class="center">
            <input type="submit" style="color:white;background-color:#05DCA2;border-color:#05DCA2" class="btn btn-primary" value="Submit">
        </div>

    </form>
</div>

<br>
<br>

<app-display-complaint></app-display-complaint>